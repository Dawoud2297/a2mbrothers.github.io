(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{98:function(e,t,n){"use strict";n.r(t);var c,a=n(1),s=n.n(a),r=n(38),i=n.n(r),l=n(15),o=n.n(l),d=n(5),j=n(20),u=n(3),b=n(2),h=(n(52),n(39)),p=n(40),x=n(41),m=n.n(x).a.create({baseURL:"http://localhost:5000/a2mbrother/v1/restaurants",headers:{"content-type":"application/json"}}),O=new(function(){function e(){Object(h.a)(this,e)}return Object(p.a)(e,[{key:"getAll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return m.get("?page=".concat(e))}},{key:"get",value:function(e){return m.get("/id/".concat(e))}},{key:"find",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"name",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return m.get("?".concat(t,"=").concat(e,"&page=").concat(n))}},{key:"addReview",value:function(e){return m.post("/review",e)}},{key:"updateReveiw",value:function(e){return m.put("/review",e)}},{key:"deleteReview",value:function(e){return m.delete("/review?id=".concat(e))}},{key:"getCuisine",value:function(){return m.get("/cuisines")}}]),e}()),g=n(4),v=n(12),f=n(13),N=Object(f.a)(c||(c=Object(v.a)(["\n.pagination{\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.paginationItem{\n    background: gray;\n    border: 2px solid #666;\n    border-radius: 50%;\n    padding: 10px 15px;\n    height: 45px;\n    width: 45px;\n    position: relative;\n    margin: 0.5px;\n    cursor: pointer;\n}\n.paginationItem span{\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%,-50%);\n}\n.paginationItem.active{\n    border: 1px solid #888;\n    color: #888;\n    pointer-events: none;\n}\n.prev,\n.next{\n    background: gray;\n    border: none;\n    padding: 10px;\n    color: blue;\n    margin: 0 10px;\n    cursor: pointer;\n}\n.prev.disabled,\n.next.disabled{\n    pointer-events: none;\n    box-shadow : none;\n    color: #999;\n}\n\n"]))),w=n(0);function y(e){var t=e.restaurants,n=Object(a.useState)(1268),c=Object(u.a)(n,1)[0],s=Object(a.useState)(1),r=Object(u.a)(s,2),i=r[0],l=r[1];function o(e){var t=Number(e.target.textContent);l(t)}return Object(a.useEffect)((function(){window.scrollTo({behavior:"smooth",top:"0px"})}),[i]),Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{className:"row",children:function(){var e=20*i-20,n=e+20;return t.slice(e,n)}().map((function(e){var t="".concat(e.address.building," ").concat(e.address.street,", ").concat(e.address.zipcode);return Object(w.jsx)("div",{className:"col-lg-4 pb-1",children:Object(w.jsx)("div",{className:"card pb-1",style:{backgroundColor:"#DEC19B"},children:Object(w.jsxs)("div",{className:"card-body",children:[Object(w.jsx)("h3",{className:"card-title",children:e.name}),Object(w.jsxs)("p",{className:"card-text m-2",children:[Object(w.jsx)("strong",{children:"Cuisine : "}),e.cuisine,Object(w.jsx)("br",{}),Object(w.jsx)("strong",{children:"Address :"}),t]}),Object(w.jsxs)("div",{className:"row",children:[Object(w.jsx)(g.b,{to:"/restaurants/"+e._id,className:"btn btn-primary col-lg-5 m-2",children:"Feedbacks"}),Object(w.jsx)("a",{target:"blank",href:"https://www.google.com/maps/place/"+t,className:"btn btn-primary col-lg-5 m-2",children:"Map"})]})]})})})}))}),Object(w.jsx)(N,{}),Object(w.jsx)("div",{className:"m-4",children:Object(w.jsxs)("div",{className:"pagination",children:[Object(w.jsx)("button",{onClick:function(){l((function(e){return e-1}))},className:"prev ".concat(1===i?"disabled":""),children:"prev"}),function(){var e=10*Math.floor((i-1)/10);return new Array(10).fill().map((function(t,n){return e+n+1}))}().map((function(e,t){return Object(w.jsx)("button",{onClick:o,className:"paginationItem ".concat(i===e?"active":null),children:Object(w.jsx)("span",{children:e})},t)})),Object(w.jsx)("button",{onClick:function(){l((function(e){return e+1}))},className:"next ".concat(i===c?"disabled":""),children:"next"})]})}),Object(w.jsx)(g.b,{to:"/",className:"btn btn-success m-4",style:{float:"right",position:"sticky"},children:"Home"})]})}function k(e){var t=Object(a.useState)([]),n=Object(u.a)(t,2),c=n[0],s=n[1],r=Object(a.useState)(""),i=Object(u.a)(r,2),l=i[0],o=i[1],d=Object(a.useState)(""),j=Object(u.a)(d,2),b=j[0],h=j[1],p=Object(a.useState)(""),x=Object(u.a)(p,2),m=x[0],g=x[1],v=Object(a.useState)(["All Cuisines"]),f=Object(u.a)(v,2),N=f[0],k=f[1],C=function(e,t){O.find(e,t).then((function(e){s(e.data.restaurants)})).catch((function(e){console.log(e)}))},S=function(){O.getAll().then((function(e){s(e.data.restaurants)}))};return Object(a.useEffect)((function(){S(),O.getCuisine().then((function(e){k(["All Cuisines"].concat(e.data))})).catch((function(e){console.log(e)}))}),[]),Object(w.jsxs)("div",{children:[Object(w.jsxs)("div",{className:"d-flex flex-row m-4",children:[Object(w.jsxs)("div",{className:"input-group m-3",children:[Object(w.jsx)("input",{type:"text",placeholder:"Search By Name",className:"form-control bg-dark text-white",value:l,onChange:function(e){o(e.target.value)}}),Object(w.jsx)("button",{onClick:function(){C(l,"name")},className:"btn btn-outline-secondary input-group-append",children:"Search"})]}),Object(w.jsxs)("div",{className:"input-group m-3",children:[Object(w.jsx)("input",{type:"text",placeholder:"Search By Zipcode",className:"form-control bg-dark text-white",value:b,onChange:function(e){h(e.target.value)}}),Object(w.jsx)("button",{onClick:function(){C(b,"zipcode")},className:"btn btn-outline-secondary input-group-append",children:"Search"})]}),Object(w.jsx)("div",{className:"input-group m-3",children:Object(w.jsx)("select",{className:"bg-dark text-white",onChange:function(e){g(e.target.value)},onClick:function(){"All Cuisines"===m?S():C(m,"cuisine")},children:N.map((function(e){return Object(w.jsx)("option",{value:e,className:"bg-dark text-white",children:e.substr(0,20)})}))})})]}),Object(w.jsx)("div",{children:Object(w.jsx)(y,{restaurants:c})})]})}var C,S=n(16),R=n(100);function A(e,t){var n="User-"+e,c=s.a.useState((function(){var e=localStorage.getItem(n);return null!==e?JSON.parse(e):"function"===typeof t?t():t})),a=Object(u.a)(c,2),r=a[0],i=a[1];return s.a.useEffect((function(){localStorage.setItem(n,JSON.stringify(r))}),[n,r]),[r,i]}function E(e){var t={name:"",id:""},n=A(t.name,t),c=Object(u.a)(n,2),a=c[0],r=c[1],i=function(e){var t=e.target,n=t.name,c=t.value;r(Object(d.a)(Object(d.a)({},a),{},Object(S.a)({},n,c)))},l=s.a.useRef();return Object(w.jsxs)("div",{className:"mt-4",children:[Object(w.jsxs)("div",{className:"d-flex flex-row jsutify-content-center align-items-center",children:[Object(w.jsx)("label",{htmlFor:"name",children:"Name "}),Object(w.jsx)("br",{}),Object(w.jsx)("div",{className:"input-group",children:Object(w.jsx)("input",{type:"text",value:a.name,onChange:i,name:"name",id:"name",className:"form-control m-2"})}),Object(w.jsx)("label",{htmlFor:"id",children:"Id "}),Object(w.jsx)("br",{}),Object(w.jsxs)("div",{className:"input-group m-3",children:[Object(w.jsx)("input",{type:"text",ref:l,value:a.id,onChange:i,name:"id",id:"id",className:"form-control"}),Object(w.jsx)("button",{onClick:function(){l.current.value=a.id=Object(R.a)()},className:"btn btn-outline-primary input-group-append text-black",children:"Auto Id"})]})]}),Object(w.jsx)("div",{className:"m-4",children:Object(w.jsx)(g.b,{to:"/restaurants",className:"btn btn-secondary",onClick:function(){e.login(a),e.history.push("/")},children:" Login"})})]})}var I,B=Object(f.a)(C||(C=Object(v.a)(["\nbody{\n    height: 100vh;\n    margin: 0;\n    background-color: gray;\n}\n.container{\n    position: relative;\n    box-sizing: border-box;\n    padding-right: 60px;\n    margin: 0;\n    padding: 0;\n    margin-right: 500px;\n}\nul{\n    position: relative;\n    list-style-type: none;\n    margin: 0;\n    padding: 0;\n    overflow: hidden;\n    background-color: #333;\n    width: 100vw;\n    /* height: 100px; */\n}\nh1{\n    font-size: 55px;\n}\n.more{\n    position: relative;\n    font-size: 75px;\n    float: right;\n    margin-right: 250px;\n    height: 20px;\n    width: 20px;\n    margin-top: 20px;\n}\n.login{\n    display: block;\n    float: right;\n    padding: 15px 15px;\n    cursor: pointer;\n    /* color: white; */\n    text-align: center;\n    text-decoration: none;\n}\n.player-wrapper{\n    display: flex;\n    margin-bottom: 20px;\n    padding: 50px;\n}\n"]))),_=n(46),z=n.n(_);function F(e){return Object(w.jsxs)("div",{children:[Object(w.jsxs)("div",{className:"container",children:[Object(w.jsx)(B,{}),Object(w.jsx)("div",{children:Object(w.jsxs)("ul",{className:"row-lg-5",children:[Object(w.jsx)("li",{className:"d-flex flex-row justify-content-center align-items-center text-white pt-4",children:Object(w.jsxs)("h1",{children:[Object(w.jsx)("span",{className:"text-danger",children:"A2M"}),"BROTHERS"]})}),Object(w.jsx)("li",{className:"login",children:e.user?Object(w.jsxs)("a",{href:!0,onClick:e.logout,className:"nav-link",children:[" logout :) ",e.user.name]}):Object(w.jsx)(g.b,{to:"/login",className:"nav-link",children:"login"})}),Object(w.jsx)("li",{children:e.user?Object(w.jsx)(g.b,{to:"/restaurants",className:"nav-link",children:"Restaurants"}):Object(w.jsx)("div",{})})]})}),Object(w.jsx)("div",{className:"more",children:"More Than 20,000 Restaurants"})]}),Object(w.jsx)("div",{className:"player-wrapper",children:Object(w.jsx)(z.a,{className:"player",url:"videos/restaurants.mp4",width:"720",height:"50%",playing:!0,light:!0,loop:!0})})]})}var D=Object(f.a)(I||(I=Object(v.a)(["\nbody{\n    background-color: gray;\n}\n"])));function J(e){var t=Object(a.useState)({id:null,name:"",address:{},cuisine:"",reviews:[]}),n=Object(u.a)(t,2),c=n[0],s=n[1];Object(a.useEffect)((function(){var t;t=e.match.params.id,O.get(t).then((function(e){s(e.data)})).catch((function(e){console.log(e)}))}),[e.match.params.id]);return Object(w.jsx)("div",{children:c?Object(w.jsxs)("div",{className:"m-4",children:[Object(w.jsx)("h2",{children:c.name}),Object(w.jsxs)("p",{children:[Object(w.jsx)("strong",{children:"Cuisine : "}),c.cuisine,Object(w.jsx)("br",{}),Object(w.jsx)("strong",{children:"address : "}),c.address.building," ",c.address.street,", ",c.address.zipcode]}),Object(w.jsx)(g.b,{to:"/restaurants/"+e.match.params.id+"/review",className:"btn btn-primary btn-lg p-3 m-2",children:"Let Opinion"}),Object(w.jsx)("h2",{className:"",children:"Reviews"}),Object(w.jsx)("div",{className:"row",children:c.reviews.length>0?c.reviews.map((function(t,n){return Object(w.jsx)("div",{className:"col-lg-4 pb-1",children:Object(w.jsx)("div",{className:"card",style:{backgroundColor:"#DEC19B"},children:Object(w.jsxs)("div",{className:"card-body",children:[Object(w.jsx)("h2",{className:"card-title",children:t.text}),Object(w.jsxs)("p",{className:"card-text",children:[Object(w.jsx)("strong",{children:"Name : "}),t.name,Object(w.jsx)("br",{}),Object(w.jsx)("strong",{children:"Date : "}),t.date]}),e.user&&e.user.id===t.user_id&&Object(w.jsxs)("div",{className:"row",children:[Object(w.jsx)("a",{href:!0,onClick:function(){return function(e,t){O.deleteReview(e).then((function(e){s((function(e){return e.reviews.splice(t,1),Object(d.a)({},e)}))})).catch((function(e){console.log(e)}))}(t._id,n)},className:"btn btn-primary btn-lg p-3 col-lg-5 mx-1 mb-1",children:"Delete"}),Object(w.jsx)(g.b,{to:{pathname:"/restaurants/"+e.match.params.id+"/review",state:{currentReview:t}},className:"btn btn-primary btn-lg p-3 col-lg-5 mx-1 mb-1",children:"Edit"})]})]})})},n)})):Object(w.jsx)("p",{children:"No Reviews Yet"})})]}):Object(w.jsxs)("div",{children:[Object(w.jsx)("p",{children:" No Such Restaurant with that Name"}),Object(w.jsx)(g.b,{to:"/",className:"btn btn-success",children:"Home"})]})})}function L(e){var t=!1,n="";e.location.state&&e.location.state.currentReview&&(t=!0,n=e.location.state.currentReview.text);var c=Object(a.useState)(n),s=Object(u.a)(c,2),r=s[0],i=s[1],l=Object(a.useState)(!1),o=Object(u.a)(l,2),d=o[0],j=o[1];return Object(w.jsx)("div",{children:e.user?Object(w.jsx)("div",{children:d?Object(w.jsxs)("div",{children:[Object(w.jsx)("p",{children:"You Submitted SuccessFully!"}),Object(w.jsx)(g.b,{to:"/restaurants/"+e.match.params.id,className:"btn btn-success",children:"Back to Restaurant"})]}):Object(w.jsxs)("div",{className:"row",children:[Object(w.jsxs)("label",{htmlFor:"description",children:[t?"Edit":"New"," Feedback"]}),Object(w.jsx)("div",{className:"d-flex flex-row",children:Object(w.jsx)("textarea",{className:"form-control",value:r,onChange:function(e){i(e.target.value)},required:!0,name:"text"})}),Object(w.jsx)("button",{onClick:function(){var n={restaurant_id:e.match.params.id,name:e.user.name,user_id:e.user.id,text:r};t?(n.review_id=e.location.state.currentReview._id,O.updateReveiw(n).then((function(e){j(!0)})).catch((function(e){console.log(e)}))):O.addReview(n).then((function(e){j(!0)})).catch((function(e){console.log(e)}))},className:"btn btn-success btn-lg p-4 col-lg-3 m-4",children:"Submit"})]})}):Object(w.jsxs)("div",{children:[Object(w.jsx)("p",{children:"Please login first"}),Object(w.jsx)(g.b,{to:"/login",className:"btn btn-success btn-lg p-4 m-4",children:"Login"})]})})}var M=function(){var e=A(null),t=Object(u.a)(e,2),n=t[0],c=t[1];function a(){return s.apply(this,arguments)}function s(){return(s=Object(j.a)(o.a.mark((function e(){var t,n=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.length>0&&void 0!==n[0]?n[0]:null,c(t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function r(){return i.apply(this,arguments)}function i(){return(i=Object(j.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(null);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(w.jsxs)("div",{className:"App",children:[Object(w.jsx)(D,{}),Object(w.jsx)("div",{className:"container pl-2",children:Object(w.jsxs)(b.c,{children:[Object(w.jsx)(b.a,{path:"/login",render:function(e){return Object(w.jsx)(E,Object(d.a)(Object(d.a)({},e),{},{login:a}))}}),Object(w.jsx)(b.a,{path:"/restaurants/:id/review",render:function(e){return Object(w.jsx)(L,Object(d.a)(Object(d.a)({},e),{},{user:n}))}}),Object(w.jsx)(b.a,{path:"/restaurants/:id",render:function(e){return Object(w.jsx)(J,Object(d.a)(Object(d.a)({},e),{},{user:n}))}}),Object(w.jsx)(b.a,{exact:!0,path:"/restaurants",render:function(e){return Object(w.jsx)(k,Object(d.a)(Object(d.a)({},e),{},{logout:r}))}}),Object(w.jsx)(b.a,{path:"/",render:function(e){return Object(w.jsx)(F,Object(d.a)(Object(d.a)({},e),{},{user:n,logout:r}))}})]})})]})};i.a.render(Object(w.jsx)(g.a,{basename:"",children:Object(w.jsx)(M,{})}),document.getElementById("root"))}},[[98,1,2]]]);
//# sourceMappingURL=main.a8de161b.chunk.js.map